<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id='div'></div>
<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
<script type="text/javascript" th:inline="javascript">
    let data = JSON.parse([[${json.toString()}]]);
    let node = {
        id: data.id,
        name: data.name,
        nodeYes: data.yes,
        nodeNo: data.no,
    }
    window.onload = function () {
        addNode(node);
    }
    let countLine = 0;
    let str = '';
    function addNode(node, countLine=0) {
        console.log(countLine);
        let span = document.createElement('span');
        for (let i = 0; i < countLine; i++) {
            str = str + '-';
        }
        let div = document.createElement('div');
        let divId = document.createElement('div');
        divId.innerHTML+=str+node.id;
        div.append(divId);
        let divName = document.createElement('div');
        divName.innerHTML+=str+node.name;
        div.append(divName);
        document.body.append(div);
        if (node.nodeNo != null) {
            let nodeNo = {
                id: node.nodeNo.id,
                name: node.nodeNo.name,
                nodeYes: node.nodeNo.yes,
                nodeNo: node.nodeNo.no,
            }
            addNode(nodeNo, countLine + 1);
        }
        if (node.nodeYes != null) {
            let nodeYes = {
                id: node.nodeYes.id,
                name: node.nodeYes.name,
                nodeYes: node.nodeYes.yes,
                nodeNo: node.nodeYes.no,
            }
            addNode(nodeYes, countLine + 1);
        }

    }
</script>
</body>
</html>